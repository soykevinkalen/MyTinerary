(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{137:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),i=n(7),o=n(43),l=n(44),u=n(46),j=n(45),d=n(8),b=n(63),m=n(75),p=n(91),h=n.n(p),O=n(25),g=n.n(O),x=n(56),f=n.n(x),y=n(16),v=n(11),N=n(5),k=n.n(N),C=n(13),w=n(15),I=n.n(w),S=n(9),T={createUser:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.post("https://kbaezmytinerary.herokuapp.com/api/user/signup",e);case 3:if((r=t.sent).data.success){t.next=6;break}return t.abrupt("return",r.data.errores);case 6:n({type:"LOG_USER",payload:r.data.success?r.data.respuesta:null}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},logInUser:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.post("https://kbaezmytinerary.herokuapp.com/api/user/signin",e);case 3:if((r=t.sent).data.success){t.next=6;break}return t.abrupt("return",r.data.error);case 6:n({type:"LOG_USER",payload:r.data.success?r.data.respuesta:null}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},logOutUser:function(){return function(e,t){try{e({type:"LOGOUT_USER"})}catch(n){console.log(n)}}},logInForced:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://kbaezmytinerary.herokuapp.com/api/user/loginForced",{headers:{Authorization:"Bearer "+e.token}});case 3:r=t.sent,n({type:"LOG_USER",payload:Object(i.a)(Object(i.a)({},r.data.respuesta),{},{token:e.token})}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),S.b.error("Ops... An error occurred, contact the administrator");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}},L=n(90),E=n.n(L),B=n(1),_={logOutUser:T.logOutUser},A=Object(v.b)((function(e){return{userLogged:e.auth.userLogged}}),_)((function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],s=e.userLogged?e.userLogged.userImage:"../assets/usuario.png",i=e.userLogged?e.userLogged.firstName:"",o=e.userLogged?e.userLogged.lastName:"";return Object(B.jsx)("header",{className:"styleFooter",children:Object(B.jsxs)(b.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",className:"styleFooter d-flex justify-content-between",children:[Object(B.jsx)(y.b,{className:"text-decoration-none",to:"/",children:Object(B.jsxs)("div",{className:"logoHeader",children:[Object(B.jsx)(g.a,{className:"logoGral"}),Object(B.jsx)("h2",{children:"MyTinerary"})]})}),Object(B.jsxs)("div",{className:"usuarioContent",children:[Object(B.jsx)("div",{className:"d-flex usuario",style:{backgroundImage:"url(".concat(s,")")},children:Object(B.jsxs)("div",{className:"dropContent",children:[r&&Object(B.jsx)("div",{className:"navDrop navLink bg-dark d-flex flex-column",id:"collasible-nav-dropdown",children:e.userLogged?Object(B.jsx)("h6",{className:"h6",onClick:e.logOutUser,children:"Log Out"}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(y.b,{className:"navLink ms-2",to:"/signin",children:"Sign In"}),Object(B.jsx)(y.b,{className:"navLink ms-2",to:"/signup",children:"Sign Up"})]})}),Object(B.jsx)(E.a,{className:"iconDrop",onClick:function(){return c(!r)}})]})}),Object(B.jsx)("h6",{className:"name",children:i+" "+o})]}),Object(B.jsx)(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(B.jsx)(b.a.Collapse,{id:"responsive-navbar-nav",children:Object(B.jsx)(m.a,{className:"mr-auto d-flex justify-content-end px-4v align-items-center",children:Object(B.jsxs)(m.a,{className:"d-flex justify-content-center align-items-center",children:[Object(B.jsxs)(y.b,{className:"navLink me-2",to:"/",children:[Object(B.jsx)(h.a,{fontSize:"large"})," Home"]}),Object(B.jsxs)(y.b,{className:"navLink",to:"/cities",children:[Object(B.jsx)(f.a,{fontSize:"large"})," Cities"]})]})})})]})})})),F=n(93),U=n.n(F),D=n(95),P=n.n(D),R=n(94),z=n.n(R),M=n(92),G=n.n(M),Y=function(){var e=function(e){return window.open(e,"_blank")};return Object(B.jsxs)("footer",{className:"footer",children:[Object(B.jsx)(A,{}),Object(B.jsxs)("div",{className:"deepFooter",children:[Object(B.jsx)("div",{className:"location",children:Object(B.jsxs)("h4",{children:[Object(B.jsx)(G.a,{}),"Travel Center 10-11 Percy Street, London, W1T 1DN"]})}),Object(B.jsx)("div",{className:"logoFooter",children:Object(B.jsx)(g.a,{className:"logo-avion"})}),Object(B.jsxs)("div",{className:"containerSocial",children:[Object(B.jsx)("h2",{children:"Social media"}),Object(B.jsxs)("ul",{className:"ul-fb d-flex justify-content-center",children:[Object(B.jsx)("li",{children:Object(B.jsx)("button",{onClick:function(t){t.preventDefault(),e("https://www.facebook.com/TravelCentreUK/")},className:"facebook",children:Object(B.jsx)(U.a,{className:"redesSociales"})})}),Object(B.jsx)("li",{children:Object(B.jsx)("button",{onClick:function(t){t.preventDefault(),e("https://www.instagram.com/travelcenteruk/")},className:"instagram text-center",children:Object(B.jsx)(z.a,{className:"redesSociales"})})}),Object(B.jsx)("li",{children:Object(B.jsx)("button",{onClick:function(t){t.preventDefault(),e("https://github.com/soykevinkalen")},className:"text-center  gitHub",children:Object(B.jsx)(P.a,{className:"redesSociales"})})})]})]})]})]})},H=n(62),V=function(e){var t=e.ciudad,n=e.clase;return Object(B.jsx)("div",{className:n.carousel,style:{backgroundImage:"url(".concat(t.src,")")},children:Object(B.jsx)("h3",{className:n.estampa,children:t.title})})},W=function(e){var t=e.gruposDeCiudades,n={estampa:"stamp",carousel:"carouselHero"};return Object(B.jsxs)("div",{className:"containerHero bg-dark",children:[Object(B.jsx)(H.a,{className:"carousel",enableAutoPlay:!0,autoPlaySpeed:1e4,children:t.map((function(e){return Object(B.jsx)(V,{ciudad:e,clase:n},"h"+e.title)}))}),Object(B.jsxs)("div",{className:"containerTexto",children:[Object(B.jsx)("h1",{children:"MyTinerary"}),Object(B.jsx)("h2",{children:"Find your perfect trip, designed by insiders who know and love their cities!"})]})]})},K=function(){return Object(B.jsx)("main",{className:"mainCallToAction bg-dark",children:Object(B.jsxs)("div",{className:"divCallToAction",style:{backgroundImage:'url("/assets/calltoaction.jpg")'},children:[Object(B.jsx)("p",{children:"Let your adventure begin!"}),Object(B.jsxs)(y.b,{to:"/cities",className:"buttonCallToAction",children:[Object(B.jsx)(g.a,{className:"divLogoCallToAction"}),Object(B.jsx)("p",{className:"citiesCallToAction",children:"Cities"})]})]})})},J=function(e){var t=e.ciudades,n={carousel:"slideCity",estampa:""};return Object(B.jsx)("div",{className:"slideCarrousel",children:t.map((function(e){return Object(B.jsx)(V,{ciudad:e,clase:n},"s"+e.title)}))})},q=function(e){var t=e.gruposDeCiudades;return Object(B.jsxs)("div",{className:"containerCarrousel bg-dark",children:[Object(B.jsx)("h2",{children:"Popular MYtineraries"}),Object(B.jsx)(H.a,{enableAutoPlay:!0,autoPlaySpeed:4e3,children:t.map((function(e,t){return Object(B.jsx)(J,{ciudades:e},t)}))})]})},Q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gruposDeCiudades:[[{title:"London",src:"/assets/london.jpg"},{title:"New York",src:"/assets/newyork.jpg"},{title:"Paris",src:"/assets/paris.jpg"},{title:"Dubai",src:"/assets/dubai.jpg"}],[{title:"Tokyo",src:"/assets/tokyo.jpg"},{title:"Moscow",src:"/assets/moscow.jpg"},{title:"Tauranga",src:"/assets/tauranga.jpg"},{title:"Queenstown",src:"/assets/queenstown.jpg"}],[{title:"Los Angeles",src:"/assets/losAngeles.jpg"},{title:"Madrid",src:"/assets/madrid.jpg"},{title:"Rome",src:"/assets/rome.jpg"},{title:"Barcelona",src:"/assets/barcelona.jpg"}]]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(A,{}),Object(B.jsx)(W,{gruposDeCiudades:this.state.gruposDeCiudades[1]}),Object(B.jsx)(K,{}),Object(B.jsx)(q,{gruposDeCiudades:this.state.gruposDeCiudades}),Object(B.jsx)(Y,{})]})}}]),n}(a.Component),X=Object(v.b)((function(e){return{cities:e.city.citiesFilter}}),null)((function(e){return Object(B.jsx)("div",{className:"allCities",children:e.cities.map((function(e){return Object(B.jsx)(y.b,{to:"/itineraries/".concat(e._id),className:"city",style:{backgroundImage:"url(".concat(e.path,")")},children:Object(B.jsx)("h3",{children:e.city})},"city"+e.city)}))})})),Z={getCities:function(){return function(e,t){I.a.get("https://kbaezmytinerary.herokuapp.com/api/cities").then((function(t){return e({type:"GET_CITIES",payload:t.data.respuesta})})).catch((function(e){return console.log(e)}))}},filterValue:function(e){return function(t,n){t({type:"FILTER_VALUE",payload:e})}}},$={filtro:Z.filterValue},ee=Object(v.b)((function(e){return{citiesFilter:e.city.citiesFilter}}),$)((function(e){return Object(B.jsxs)("div",{className:"inputCities",children:[Object(B.jsx)(g.a,{className:"logoCities"}),Object(B.jsx)("input",{placeholder:"Search cities",onChange:function(t){e.filtro(t.target.value)}}),e.citiesFilter.length?Object(B.jsx)(X,{}):Object(B.jsxs)("div",{className:"city notFound",children:[Object(B.jsx)("h2",{children:"We don't have any city that matches your search!"}),Object(B.jsx)("h2",{children:"Try another one!"})]})]})})),te=n(100),ne=n.n(te),ae=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.props.getCities()}},{key:"render",value:function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)(A,{}),this.props.loading?Object(B.jsx)(ne.a,{className:"preloader",type:"cylon",color:"white",height:667,width:"100%"}):Object(B.jsx)(ee,{}),Object(B.jsx)(Y,{})]})}}]),n}(a.Component),re={getCities:Z.getCities},ce=Object(v.b)((function(e){return{loading:e.city.loading}}),re)(ae),se={getItinerariesByCity:function(e){return function(t,n){I.a.get("https://kbaezmytinerary.herokuapp.com/api/itinerariesByCity/"+e).then((function(e){t({type:"GET_ITINERARIES_BY_CITY",payload:e.data.respuesta})})).catch((function(e){return console.log(e)}))}},putItinerary:function(e,t){return function(){var n=Object(C.a)(k.a.mark((function n(a,r){var c;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.put("https://kbaezmytinerary.herokuapp.com/api/itineraries/"+e,t);case 2:if((c=n.sent).success){n.next=5;break}return n.abrupt("return",c.data.respuesta);case 5:a({type:"GET_ITINERARIES_BY_CITY",payload:c.data.respuesta}).catch((function(e){return console.log(e)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},putComments:function(e,t,n){return function(){var a=Object(C.a)(k.a.mark((function a(r,c){var s;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.a.put("https://kbaezmytinerary.herokuapp.com/api/itineraries/comments/"+t,{comment:n},{headers:{Authorization:"Bearer "+e.token}});case 3:return s=a.sent,r({type:"COMMENTS",payload:s.data.respuesta}),a.abrupt("return",s.data.respuesta);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),S.b.error("Ops... An error occurred, contact the administrator");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},likes:function(e,t){return function(){var n=Object(C.a)(k.a.mark((function n(a,r){var c;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.a.put("https://kbaezmytinerary.herokuapp.com/api/itineraries/like/"+t._id,{itinerary:t},{headers:{Authorization:"Bearer "+e.token}});case 3:c=n.sent,a({type:"LIKES",payload:c.data.respuesta}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),S.b.error("Ops... An error occurred, contact the administrator");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}()},deleteComment:function(e,t,n){return function(){var a=Object(C.a)(k.a.mark((function a(r,c){var s;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.a.put("https://kbaezmytinerary.herokuapp.com/api/comments/",{comment:t,itinerary:n},{headers:{Authorization:"Bearer "+e.token}});case 3:return s=a.sent,r({type:"COMMENTS",payload:s.data.respuesta}),a.abrupt("return",s.data.respuesta);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),S.b.error("Ops... An error occurred, contact the administrator");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},updateComment:function(e,t,n){return function(){var a=Object(C.a)(k.a.mark((function a(r,c){var s;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I.a.put("https://kbaezmytinerary.herokuapp.com/api/commentsUpdate/",{comment:t,itinerary:n},{headers:{Authorization:"Bearer "+e.token}});case 3:return s=a.sent,r({type:"COMMENTS",payload:s.data.respuesta}),a.abrupt("return",s.data.respuesta);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),S.b.error("Ops... An error occurred, contact the administrator");case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()}},ie=n(64),oe=n(72),le=n.n(oe),ue=n(73),je=n.n(ue),de=n(74),be=n.n(de),me=n(50),pe={getActivitiesByItinerary:function(e){return function(){var t=Object(C.a)(k.a.mark((function t(n,a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("https://kbaezmytinerary.herokuapp.com/api/activitiesByItinerary/"+e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},he=n(103),Oe=n.n(he),ge=n(102),xe=n.n(ge),fe=n(101),ye=n.n(fe),ve=n(71),Ne=n.n(ve),ke=Object(v.b)((function(e){return{user:e.auth.userLogged}}),null)((function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(""),j=Object(d.a)(u,2),b=j[0],m=j[1],p=function(){""!==b.trim()&&(e.comment.comment=b,e.updateComment(e.comment),l(!o),c(!r))};return Object(B.jsxs)("div",{className:"commentContent",children:[Object(B.jsxs)("div",{className:"commentOne",children:[Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"picUser",style:{backgroundImage:"url('".concat(e.comment.userId.userImage,"')")}}),Object(B.jsx)("h5",{children:e.comment.userId.firstName+" "+e.comment.userId.lastName})]}),e.user&&e.comment.userId.email===e.user.email?Object(B.jsx)(B.Fragment,{children:r?Object(B.jsx)(ye.a,{className:"icon",onClick:function(){c(!r),l(!o)}}):Object(B.jsxs)("div",{children:[Object(B.jsx)(xe.a,{className:"icon",onClick:function(){return t=e.comment,l(!o),c(!r),void m(t.comment);var t}}),Object(B.jsx)(Oe.a,{className:"icon",onClick:function(){return t=e.comment,void Ne.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){n.isConfirmed&&(e.deleteComment(t),Ne.a.fire("Deleted!","Your file has been deleted.","success"))}));var t}})]})}):null]}),!o&&Object(B.jsx)("h5",{className:"comentario",children:e.comment.comment}),o&&Object(B.jsxs)("div",{className:"commentsEdit",children:[Object(B.jsx)("input",{onKeyDown:function(e){"Enter"===e.key&&p()},type:"text",className:"inputComment",placeholder:"Write your comment here",onChange:function(e){return m(e.target.value)},value:b}),Object(B.jsx)("button",{className:"buttonComment",onClick:p,children:"Send"})]})]})})),Ce={getActivitiesByItinerary:pe.getActivitiesByItinerary,putItinerary:se.putItinerary,putComments:se.putComments,likes:se.likes,deleteComment:se.deleteComment,updateComment:se.updateComment},we=Object(v.b)((function(e){return{user:e.auth.userLogged,itinerariesByCity:e.itinerary.itinerariesByCity}}),Ce)((function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(""),j=Object(d.a)(u,2),b=j[0],m=j[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),O=h[0],g=h[1],x=Object(a.useState)([]),f=Object(d.a)(x,2),y=f[0],v=f[1],N=Object(a.useState)([]),w=Object(d.a)(N,2),T=w[0],L=w[1],E=Object(a.useState)(!1),_=Object(d.a)(E,2),A=_[0],F=_[1],U=Object(a.useState)(""),D=Object(d.a)(U,2),P=D[0],R=D[1],z=Object(a.useState)(e.itinerary.comments),M=Object(d.a)(z,2),G=M[0],Y=M[1],H=Object(a.useState)(!0),V=Object(d.a)(H,2),W=V[0],K=V[1],J=Object(a.useState)(!0),q=Object(d.a)(J,2),Q=q[0],X=q[1];Object(a.useEffect)((function(){I.a.get("http://localhost:4000/api/itineraries").then((function(e){v(e.data.respuesta)})).catch((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){e.user&&(-1!==e.itinerary.usersLiked.indexOf(e.user.email)?F(!0):F(!1))}),[e]);var Z=[],$=function(){var t=Object(C.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(!r),r){t.next=6;break}return t.next=4,e.getActivitiesByItinerary(n);case 4:a=t.sent,L(a.data.respuesta);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Object(C.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.user){t.next=8;break}return X(!1),t.next=4,e.likes(e.user,e.itinerary);case 4:F(!A),X(!0),t.next=9;break;case 8:S.b.error("You have to log in",{position:S.b.POSITION.TOP_CENTER});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(C.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.user){t.next=11;break}if(X(!1),""===P.trim()){t.next=9;break}return t.next=5,e.putComments(e.user,n,P);case 5:a=t.sent,Y(a.comments),R(""),X(!0);case 9:t.next=12;break;case 11:S.b.error("You have to log in",{position:S.b.POSITION.TOP_CENTER});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var t=Object(C.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteComment(e.user,n,e.itinerary);case 2:a=t.sent,Y(a.comments);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ae=function(){var t=Object(C.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateComment(e.user,n,e.itinerary);case 2:a=t.sent,Y(a.comments);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"itineraryContent",children:[Object(B.jsx)("h3",{children:e.itinerary.title}),Object(B.jsx)("div",{className:"userImage",style:{backgroundImage:"url('".concat(e.itinerary.authorImage,"')")}}),Object(B.jsx)("h5",{children:e.itinerary.authorName}),Object(B.jsxs)("div",{className:"valoration",children:[Object(B.jsxs)("div",{children:[Object(B.jsx)(le.a,{className:"curser",style:{color:"".concat(A?"red":"white")},onClick:Q?ee:null})," ",e.itinerary.usersLiked.length," "]}),Object(B.jsxs)("div",{children:[" ",Object(B.jsx)("span",{children:"Price: "}),Object(ie.a)(Array(e.itinerary.price)).map((function(e,t){return Object(B.jsx)(je.a,{className:"diner"},t)}))]}),Object(B.jsxs)("div",{children:[Object(B.jsx)(be.a,{className:"watch"})," ",e.itinerary.duration," ",Object(B.jsx)("span",{children:"hours"})]})]}),Object(B.jsxs)("div",{className:"hashtag",children:[e.itinerary.hashtag.map((function(e){return Object(B.jsxs)("button",{value:e,onClick:function(e){return function(e){y.map((function(t){return t.hashtag.map((function(n){return n===e.target.value&&(Z=[].concat(Object(ie.a)(Z),[t])),null})),null})),g(Z),l(!0),m(e.target.value)}(e)},children:["#",e]},e)})),Object(B.jsxs)(me.a,{show:o,backdrop:"static",onHide:function(){return l(!1)},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(B.jsx)(me.a.Header,{className:"modalContent",closeButton:!0,children:Object(B.jsxs)(me.a.Title,{id:"example-custom-modal-styling-title",children:["#",b]})}),Object(B.jsx)(me.a.Body,{className:"modalContent",children:O.map((function(e){return Object(B.jsxs)("div",{className:"modalHashtag",children:[Object(B.jsx)("h3",{children:e.title}),Object(B.jsx)("div",{className:"userImage",style:{backgroundImage:"url('".concat(e.authorImage,"')")}}),Object(B.jsx)("h5",{children:e.authorName}),Object(B.jsxs)("div",{className:"valoration",children:[Object(B.jsxs)("div",{children:[Object(B.jsx)(le.a,{})," ",e.usersLiked.length," "]}),Object(B.jsxs)("div",{children:[" ",Object(B.jsx)("span",{children:"Price: "}),Object(ie.a)(Array(e.price)).map((function(e,t){return Object(B.jsx)(je.a,{className:"diner"},t)}))]}),Object(B.jsxs)("div",{children:[Object(B.jsx)(be.a,{className:"watch"})," ",e.duration," ",Object(B.jsx)("span",{children:"hours"})]})]})]},e.title+"hashtag")}))})]})]}),r&&Object(B.jsxs)("div",{className:"under",children:[Object(B.jsxs)("div",{className:"activitiesContent",children:[Object(B.jsx)("h3",{children:"Activities"}),T.map((function(e){return Object(B.jsx)("div",{className:"activity",style:{backgroundImage:"url('".concat(e.image,"')")},children:Object(B.jsx)("div",{children:Object(B.jsx)("h6",{children:e.title})})},e.title)}))]}),Object(B.jsxs)("div",{className:"comments",children:[Object(B.jsx)("h3",{children:"Comments"}),Object(B.jsx)("div",{className:"divComments",children:G.length?G.map((function(t){return Object(B.jsx)(ke,{setViewItinerary:K,comment:t,itinerary:e.itinerary,deleteComment:ne,updateComment:ae},t._id)})):Object(B.jsx)("div",{className:"sinComentarios",children:Object(B.jsx)("h2",{children:"Be the first to comment"})})}),W&&Object(B.jsxs)("div",{className:"sendContent",children:[Object(B.jsx)("input",{onKeyDown:function(t){return function(e,t){"Enter"===e.key&&te(t)}(t,e.itinerary._id)},type:"text",value:P,className:"inputComment",placeholder:e.user?"Write your comment here":"You have to log in",onChange:function(e){return R(e.target.value)},disabled:!e.user&&!0}),Object(B.jsx)("button",{className:"buttonComment",onClick:Q?function(){return te(e.itinerary._id)}:null,children:"Send"})]})]})]}),Object(B.jsx)("button",{className:"butonIsOpen",onClick:function(){return $(e.itinerary._id)},children:r?"View Less":"View More"}),Object(B.jsx)(S.a,{})]})})),Ie={getItinerariesByCity:se.getItinerariesByCity},Se=Object(v.b)((function(e){return{cities:e.city.cities,itinerariesByCity:e.itinerary.itinerariesByCity}}),Ie)((function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){e.getItinerariesByCity(e.match.params.id);var t=e.cities.find((function(t){return t._id===e.match.params.id}));c(t)}),[e]),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),r?Object(B.jsxs)("div",{className:"itinarie",children:[Object(B.jsx)(A,{}),Object(B.jsx)("div",{className:"chosenCity",style:{backgroundImage:"url('".concat(r.path,"')")},children:Object(B.jsx)("h3",{children:r.city})}),e.itinerariesByCity.length?e.itinerariesByCity.map((function(e){return Object(B.jsx)(we,{itinerary:e},e.title)})):Object(B.jsxs)("div",{className:"under",children:[Object(B.jsx)("h3",{children:"We don't have any itineraries yet, but you can make the first one!"}),Object(B.jsx)("h3",{children:"Or...go back to see more cities!"})]}),Object(B.jsx)(y.b,{to:"/cities",className:"buttonItenerari",children:Object(B.jsxs)("h3",{children:[Object(B.jsx)(f.a,{className:"logoButtonItenerari"}),"Cities"]})}),Object(B.jsx)(Y,{})]}):(e.history.push("/cities"),null)})),Te=function(){return Object(B.jsxs)("div",{className:"serverError",children:[Object(B.jsx)(A,{}),Object(B.jsx)("h1",{children:"Sorry for the inconvenience, our servers were down"}),Object(B.jsx)("div",{className:"servidor",style:{backgroundImage:'url("/assets/server.jpg")'}})]})},Le=(n(137),n(138),n(14)),Ee=n(41),Be=n(59),_e=n.n(Be),Ae=n(60),Fe=n.n(Ae),Ue=n(57),De=n.n(Ue),Pe=(n(87),n(58)),Re=n.n(Pe),ze={createUser:T.createUser},Me=Object(v.b)(null,ze)((function(e){var t=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",userImage:"",country:""}),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(!1),b=Object(d.a)(j,2),m=b[0],p=b[1],h=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",userImage:"",country:""}),O=Object(d.a)(h,2),x=O[0],f=O[1];Object(a.useEffect)((function(){window.scrollTo(0,0),I.a.get("https://restcountries.eu/rest/v2/all").then((function(e){u(e.data)})).catch((function(e){return console.log(e)}))}),[]);var v=function(e){c(Object(i.a)(Object(i.a)({},r),{},Object(Ee.a)({},e.target.name,e.target.value)))},N=function(){var t=Object(C.a)(k.a.mark((function t(){var n,a,c,s,o=arguments;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:null,a=o.length>1&&void 0!==o[1]?o[1]:null,f({firstName:"",lastName:"",email:"",password:"",userImage:"",country:""}),n&&n.preventDefault(),c=n?r:a,!Object.values(c).some((function(e){return""===e}))){t.next=7;break}return t.abrupt("return",S.b.error("Fill in the fields"));case 7:return t.next=9,e.createUser(c);case 9:if(!(s=t.sent)){t.next=18;break}if(!s.controllers){t.next=15;break}if("There was an error in the user engraving. Retry"!==s.controllers){t.next=14;break}return t.abrupt("return",S.b.error(s.controllers));case 14:return t.abrupt("return",f({email:s.controllers}));case 15:s.map((function(e){return f((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(Ee.a)({},e.context.label,e.message))}))})),t.next=20;break;case 18:S.b.success("Welcome ".concat(c.firstName)),setTimeout((function(){e.history.push("/")}),5e3);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(e){var t=e.profileObj,n=t.givenName,a=t.familyName,r=t.email,c=t.googleId,s=t.imageUrl;N(null,{firstName:n,lastName:a,email:r,password:"a"+c,userImage:s,country:"google",google:!0})};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(A,{}),Object(B.jsxs)("div",{className:"divFormContent",style:{backgroundImage:"url('./assets/beach.jpg')"},children:[Object(B.jsxs)("div",{className:"form",children:[Object(B.jsx)(g.a,{className:"logoForm"}),Object(B.jsx)("h1",{children:"Sign up!"}),Object(B.jsxs)("form",{className:"form",children:[Object(B.jsx)("input",{type:"text",className:"input",placeholder:"Please, enter your first name",onChange:v,value:r.firstName,name:"firstName"}),x.firstName?Object(B.jsx)("h6",{children:x.firstName}):null,Object(B.jsx)("input",{type:"text",className:"input",placeholder:"Please, enter your last name",onChange:v,value:r.lastName,name:"lastName"}),x.lastName?Object(B.jsx)("h6",{children:x.lastName}):null,Object(B.jsx)("input",{type:"text",className:"input",placeholder:"Please, enter your email adress",onChange:v,value:r.email,name:"email"}),x.email?Object(B.jsx)("h6",{children:x.email}):null,Object(B.jsxs)("div",{className:"password",children:[Object(B.jsx)("input",{type:m?"text":"password",className:"input",placeholder:"Please, enter your password",onChange:v,value:r.password,name:"password"}),m?Object(B.jsx)(_e.a,{className:"eyeSignUp",onClick:function(){return p(!m)}}):Object(B.jsx)(Fe.a,{className:"eyeSignUp",onClick:function(){return p(!m)}})]}),x.password?Object(B.jsx)("h6",{children:x.password}):null,Object(B.jsx)("input",{type:"text",className:"input image",placeholder:"Please, enter the URL of your picture",onChange:v,value:r.userImage,name:"userImage"}),x.userImage?Object(B.jsx)("h6",{children:x.userImage}):null,Object(B.jsxs)("select",{onChange:v,name:"country",className:"input",children:[Object(B.jsx)("option",{value:"random",children:"Choose your country"}),l.map((function(e){return Object(B.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),x.country?Object(B.jsx)("h6",{children:x.country}):null,Object(B.jsx)("button",{className:"boton",onClick:N,children:"Sign up!"}),Object(B.jsxs)("div",{className:"input",children:[Object(B.jsxs)("h6",{children:["Already have an account?  ",Object(B.jsx)(y.b,{to:"/signin",className:"navLink sign",children:"Sign in here!"})]}),Object(B.jsx)("h6",{children:"Or you can sign up with Google"})]}),Object(B.jsx)(De.a,{clientId:"974935643152-dc0ocnkdohrlv5gug0tjbf6r9t32smcb.apps.googleusercontent.com",render:function(e){return Object(B.jsx)(Re.a,{onClick:e.onClick,disabled:e.disabled,children:"Sign up with Google"})},buttonText:"Sign up with google",onSuccess:w,onFailure:w,cookiePolicy:"single_host_origin"})]})]}),Object(B.jsx)(S.a,{})]}),Object(B.jsx)(Y,{})]})})),Ge={logInUser:T.logInUser},Ye=Object(v.b)(null,Ge)((function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(d.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1];Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]);var j=function(e){c(Object(i.a)(Object(i.a)({},r),{},Object(Ee.a)({},e.target.name,e.target.value)))},b=function(){var t=Object(C.a)(k.a.mark((function t(){var n,a,c,s,i=arguments;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>0&&void 0!==i[0]?i[0]:null,a=i.length>1&&void 0!==i[1]?i[1]:null,n&&n.preventDefault(),c=n?r:a,!Object.values(c).some((function(e){return""===e}))){t.next=6;break}return t.abrupt("return",S.b.error("Fill in the fields"));case 6:return t.next=8,e.logInUser(c);case 8:(s=t.sent)?S.b.error(s):(S.b.success("Welcome"),setTimeout((function(){e.history.push("/")}),5e3));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(e){e.profileObj.email&&b(null,{email:e.profileObj.email,password:"a"+e.profileObj.googleId})};return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(A,{}),Object(B.jsx)("div",{className:"divFormContent",style:{backgroundImage:"url('./assets/beach.jpg')"},children:Object(B.jsxs)("div",{className:"form signInContent",children:[Object(B.jsx)(g.a,{className:"logoForm"}),Object(B.jsx)("h1",{children:"Sign in!"}),Object(B.jsxs)("form",{children:[Object(B.jsx)("input",{type:"text",className:"input",placeholder:"Please, enter your email adress",onChange:j,value:r.email,name:"email"}),Object(B.jsxs)("div",{className:"password",children:[Object(B.jsx)("input",{type:l?"text":"password",className:"input",placeholder:"Please, enter your password",onChange:j,value:r.password,name:"password"}),l?Object(B.jsx)(_e.a,{className:"eyeSignUp",onClick:function(){return u(!l)}}):Object(B.jsx)(Fe.a,{className:"eyeSignUp",onClick:function(){return u(!l)}})]}),Object(B.jsx)("button",{className:"boton",onClick:b,children:"Sign in!"}),Object(B.jsx)(De.a,{clientId:"974935643152-dc0ocnkdohrlv5gug0tjbf6r9t32smcb.apps.googleusercontent.com",render:function(e){return Object(B.jsx)(Re.a,{className:"btn-google",onClick:e.onClick,disabled:e.disabled,children:"Sign in with Google"})},buttonText:"Sign in with google",onSuccess:m,onFailure:m,cookiePolicy:"single_host_origin"})]}),Object(B.jsx)(S.a,{}),Object(B.jsxs)("p",{className:"account",children:["Don't have an account?  ",Object(B.jsx)(y.b,{to:"/signup",className:"navLink sign",children:"Sign up here!"})]})]})}),Object(B.jsx)(Y,{})]})})),He=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){if(!this.props.userLogged&&localStorage.getItem("token")){var e=JSON.parse(localStorage.getItem("userLogged")),t=Object(i.a)({token:localStorage.getItem("token")},e);this.props.logInForced(t)}return Object(B.jsx)(y.a,{children:Object(B.jsxs)(Le.d,{children:[Object(B.jsx)(Le.b,{exact:!0,path:"/",component:Q}),Object(B.jsx)(Le.b,{path:"/cities",component:ce}),Object(B.jsx)(Le.b,{path:"/itineraries/:id",component:Se}),Object(B.jsx)(Le.b,{path:"/signup",component:Me}),Object(B.jsx)(Le.b,{path:"/signin",component:Ye}),Object(B.jsx)(Le.b,{path:"/error",component:Te}),Object(B.jsx)(Le.a,{to:"/"})]})})}}]),n}(r.a.Component),Ve={logInForced:T.logInForced},We=Object(v.b)((function(e){return{userLogged:e.userLogged}}),Ve)(He),Ke=n(42),Je={cities:[],citiesFilter:[],loading:!0},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES":return Object(i.a)(Object(i.a)({},e),{},{cities:t.payload,citiesFilter:t.payload,loading:!1});case"FILTER_VALUE":return Object(i.a)(Object(i.a)({},e),{},{citiesFilter:e.cities.filter((function(e){return t.payload.trim().toLowerCase()===e.city.toLowerCase().slice(0,t.payload.trim().toLowerCase().length)}))});default:return e}},Qe={itinerariesByCity:[],loading:!0},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES_BY_CITY":return Object(i.a)(Object(i.a)({},e),{},{itinerariesByCity:t.payload,loading:!1});case"COMMENTS":case"LIKES":return Object(i.a)(Object(i.a)({},e),{},{itinerariesByCity:e.itinerariesByCity.map((function(e){return e._id===t.payload._id?t.payload:e}))});default:return e}},Ze={userLogged:null},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return t.payload&&(localStorage.setItem("userLogged",JSON.stringify({firstName:t.payload.firstName,lastName:t.payload.lastName,userImage:t.payload.userImage,email:t.payload.email})),localStorage.setItem("token",t.payload.token)),Object(i.a)(Object(i.a)({},e),{},{userLogged:t.payload});case"LOGOUT_USER":return localStorage.clear(),Object(i.a)(Object(i.a)({},e),{},{userLogged:null});default:return e}},et=Object(Ke.c)({city:qe,itinerary:Xe,auth:$e}),tt=n(104),nt=Object(Ke.d)(et,Object(Ke.a)(tt.a));s.a.render(Object(B.jsx)(v.a,{store:nt,children:Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(We,{})})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.54920129.chunk.js.map