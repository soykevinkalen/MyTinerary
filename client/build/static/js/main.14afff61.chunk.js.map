{"version":3,"sources":["redux/actions/authActions.js","components/Header.js","components/Footer.js","components/Slide.js","components/Hero.js","components/CallToAction.js","components/Slides.js","components/Carrousel.js","pages/Home.js","components/City.js","redux/actions/citiesActions.js","components/Buscador.js","pages/Cities.js","redux/actions/itinerariesActions.js","redux/actions/activitiesActions.js","components/Comment.js","components/Itinerary.js","components/Itineraries.js","components/Error.js","components/SignUp.js","components/SignIn.js","App.js","redux/reducers/cityReducer.js","redux/reducers/itinerariesReducer.js","redux/reducers/authReducer.js","redux/reducers/mainReducer.js","index.js"],"names":["authActions","createUser","user","dispatch","getState","a","axios","post","response","data","success","errores","type","payload","respuesta","console","log","logInUser","error","logOutUser","logInForced","get","headers","token","toast","mapDispatchToProps","connect","state","userLogged","auth","props","useState","dropOpen","setDropOpen","picUser","userImage","name","firstName","lastName","className","Navbar","collapseOnSelect","expand","variant","to","style","backgroundImage","id","onClick","Toggle","aria-controls","Collapse","Nav","fontSize","Footer","handleRedirect","url","window","open","e","preventDefault","Slide","ciudad","clase","carousel","src","estampa","title","Hero","gruposDeCiudades","enableAutoPlay","autoPlaySpeed","map","CallToAction","Slides","ciudades","Carrousel","Home","scrollTo","this","Component","cities","city","citiesFilter","_id","path","citiesActions","getCities","then","catch","filterValue","value","filtro","placeholder","onChange","target","length","Cities","loading","color","height","width","itinerariesActions","getItinerariesByCity","putItinerary","itinerary","put","putComments","comment","likes","deleteComment","updateComment","activitiesActions","getActivitiesByItinerary","close","setClose","view","setView","updatedComment","setUpdatedComment","send","trim","userId","email","Swal","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","onKeyDown","key","itinerariesByCity","isOpen","setIsOpen","show","setShow","hashtag","setHashtag","itinerariesCoincidencies","setItinerariesCoincidencies","itineraries","setItineraries","activities","setActivities","setLikes","newComment","setNewComment","comments","allComments","setAllComments","viewItinerary","setViewItinerary","setLoading","useEffect","usersLiked","indexOf","coincidencies","activity","like","position","POSITION","TOP_CENTER","sendValues","itineraryId","authorImage","authorName","Array","price","p","i","duration","getItinerariesHashtag","Modal","backdrop","onHide","dialogClassName","aria-labelledby","Header","closeButton","Title","Body","image","enter","disabled","chosenCity","setChosenCity","match","params","find","history","push","Error","password","country","setUser","countries","setCountries","eye","setEye","mistakes","setMistakes","readInputUser","sendValueUser","googleUser","userGen","Object","values","some","controllers","prevState","context","label","message","setTimeout","responseGoogle","profileObj","givenName","familyName","googleId","imageUrl","google","clientId","render","renderProps","buttonText","onSuccess","onFailure","cookiePolicy","App","localStorage","getItem","userData","JSON","parse","userForced","exact","component","Itineraries","SignUp","SignIn","React","initialState","cityReducer","action","filter","toLowerCase","slice","itinerariesReducer","authReducer","setItem","stringify","clear","mainReducer","combineReducers","miStore","createStore","applyMiddleware","thunk","ReactDOM","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14afff61.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport {toast } from 'react-toastify'\r\n\r\nconst authActions = {\r\n    createUser: (user) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n\r\n                const response = await axios.post('https://kbaezmytinerary.herokuapp.com/api/user/signup', user)\r\n                if(!response.data.success){\r\n                    return response.data.errores\r\n                }\r\n                dispatch({\r\n                    type: 'LOG_USER',\r\n                    payload: response.data.success ? response.data.respuesta : null\r\n                })\r\n            }catch(error){\r\n                console.log(error)\r\n\r\n            }\r\n        }\r\n    },\r\n    logInUser: (user) => {\r\n        return async(dispatch, getState) => {\r\n            try{\r\n\r\n                const response = await axios.post('https://kbaezmytinerary.herokuapp.com/api/user/signin', user)\r\n                if(!response.data.success){\r\n                    return response.data.error\r\n                }\r\n                dispatch({\r\n                    type:'LOG_USER',\r\n                    payload: response.data.success ? response.data.respuesta : null\r\n                })\r\n            }catch(error){\r\n                console.log(error)\r\n            }\r\n        }\r\n    },\r\n    logOutUser: () => {\r\n        return(dispatch, getState) => {\r\n            try{\r\n                dispatch({type: 'LOGOUT_USER'})\r\n            }catch(error){\r\n                console.log(error)\r\n            }\r\n        }\r\n    },\r\n    logInForced: (user) => {\r\n        \r\n        return async (dispatch, getState) => {\r\n            try {\r\n                const respuesta = await axios.get('https://kbaezmytinerary.herokuapp.com/api/user/loginForced', {\r\n                    headers: {\r\n                        'Authorization': 'Bearer '+user.token\r\n                    }\r\n                })\r\n                \r\n                dispatch({type: 'LOG_USER', payload: {\r\n                    ...respuesta.data.respuesta,\r\n                    token: user.token\r\n                }})\r\n            } catch(error) {\r\n                console.log(error)\r\n                toast.error('Ops... An error occurred, contact the administrator')  \r\n            }\r\n            \r\n        }\r\n    }\r\n    \r\n\r\n        \r\n}\r\n\r\nexport default authActions","import Navbar from 'react-bootstrap/Navbar'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport React, { useState } from 'react'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff'\r\nimport FlightLandIcon from '@material-ui/icons/FlightLand'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {connect} from \"react-redux\"\r\nimport authActions from '../redux/actions/authActions'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\n\r\nconst Header = (props) =>{\r\n    const [dropOpen, setDropOpen] = useState(false)\r\n    const picUser = props.userLogged ? props.userLogged.userImage : '../assets/usuario.png'\r\n    const name = props.userLogged ? props.userLogged.firstName : \"\"\r\n    const lastName = props.userLogged ? props.userLogged.lastName : \"\"\r\n    return(\r\n        <header className='styleFooter'>\r\n            <Navbar collapseOnSelect expand=\"lg\" variant=\"dark\" className='styleFooter d-flex justify-content-between'>\r\n                <NavLink className='text-decoration-none' to=\"/\">\r\n                    <div className='logoHeader'>\r\n                        <FlightTakeoffIcon className='logoGral'/>\r\n                        <h2>MyTinerary</h2>\r\n                    </div>\r\n                </NavLink>\r\n    \r\n                <div className='usuarioContent'>\r\n                    <div className='d-flex usuario' style={{backgroundImage:`url(${picUser})`}}>\r\n                        <div className='dropContent'>\r\n                            {dropOpen && (<div className='navDrop navLink bg-dark d-flex flex-column' id=\"collasible-nav-dropdown\">\r\n                                {!props.userLogged ? (\r\n                                    <> \r\n                                        <NavLink className='navLink ms-2' to=\"/signin\">Sign In</NavLink>\r\n                                        <NavLink className='navLink ms-2' to=\"/signup\">Sign Up</NavLink>\r\n                                    </>\r\n                                ) : <h6 className='h6' onClick={props.logOutUser}>Log Out</h6>}\r\n                            </div>)}\r\n                            <ArrowDropDownIcon className='iconDrop' onClick={() => setDropOpen(!dropOpen)}/>\r\n                        </div>\r\n                    </div>\r\n                    <h6 className='name'>{name + \" \" + lastName}</h6>\r\n                </div>\r\n\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\"/>\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"mr-auto d-flex justify-content-end px-4v align-items-center\">\r\n                        <Nav className=\"d-flex justify-content-center align-items-center\">\r\n                            <NavLink className='navLink me-2' to=\"/\"><HomeIcon fontSize=\"large\" /> Home</NavLink>\r\n                            <NavLink className='navLink' to=\"/cities\"><FlightLandIcon fontSize=\"large\"/> Cities</NavLink>\r\n                        </Nav>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </header>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        userLogged: state.auth.userLogged\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    logOutUser: authActions.logOutUser\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React from 'react'\r\nimport Header from './Header'\r\nimport FacebookIcon from '@material-ui/icons/Facebook'\r\nimport GitHubIcon from '@material-ui/icons/GitHub'\r\nimport InstagramIcon from '@material-ui/icons/Instagram'\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff'\r\n\r\nconst Footer = () =>{\r\n    const handleRedirect = (url) => window.open(url,'_blank')\r\n    return(\r\n        <footer className='footer'>\r\n            <Header />\r\n            <div className='deepFooter'>\r\n                <div className='location'>\r\n                    <h4><RoomIcon />Travel Center 10-11 Percy Street, London, W1T 1DN</h4>\r\n                </div>\r\n                <div className='logoFooter'>\r\n                    <FlightTakeoffIcon className='logo-avion'/>\r\n                </div>\r\n                <div className=\"containerSocial\">\r\n                    <h2>Social media</h2>\r\n                    <ul className=\"ul-fb d-flex justify-content-center\">\r\n                        <li><button onClick={ (e) => { e.preventDefault(); handleRedirect('https://www.facebook.com/TravelCentreUK/')}} className=\"facebook\"><FacebookIcon className=\"redesSociales\"  /></button></li>\r\n                        <li><button onClick={ (e) => { e.preventDefault(); handleRedirect('https://www.instagram.com/travelcenteruk/')}} className=\"instagram text-center\"><InstagramIcon className=\"redesSociales\" /></button></li>\r\n                        <li><button onClick={ (e) => { e.preventDefault(); handleRedirect('https://github.com/soykevinkalen')}} className=\"text-center  gitHub\"><GitHubIcon className=\"redesSociales\" /></button></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","const Slide = ({ciudad, clase}) =>{\r\n    return(\r\n        <div className={clase.carousel} style={{backgroundImage:`url(${ciudad.src})`}}>\r\n            <h3 className={clase.estampa}>{ciudad.title}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Slide","import React from 'react'\r\nimport Carousel from 'react-elastic-carousel'\r\nimport Slide from './Slide'\r\nconst Hero = ({gruposDeCiudades}) =>{\r\n    const clase = {\r\n        estampa: 'stamp',\r\n        carousel: 'carouselHero'\r\n    }\r\n    return(\r\n        <div className='containerHero bg-dark'>\r\n            <Carousel className='carousel' enableAutoPlay={true} autoPlaySpeed={10000}>\r\n            {gruposDeCiudades.map(ciudad =>{ \r\n                return(\r\n                    <Slide ciudad={ciudad} clase={clase} key={'h'+ciudad.title}/>\r\n                )})}\r\n            </Carousel>\r\n            <div className='containerTexto'>\r\n                <h1>MyTinerary</h1>\r\n                <h2>Find your perfect trip, designed by insiders who know and love their cities!</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Hero","import { NavLink } from \"react-router-dom\"\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff'\r\n\r\nconst CallToAction = () =>{\r\n    return(\r\n        <main className='mainCallToAction bg-dark'>\r\n            <div className='divCallToAction' style={{backgroundImage:'url(\"/assets/calltoaction.jpg\")'}}>\r\n                <p>Let your adventure begin!</p>\r\n                <NavLink to='/cities' className='buttonCallToAction'>\r\n                    <FlightTakeoffIcon className='divLogoCallToAction' />\r\n                    <p className='citiesCallToAction'>Cities</p>\r\n                </NavLink>\r\n            </div>\r\n            \r\n        </main>\r\n    )\r\n}\r\n\r\nexport default CallToAction","import React from 'react'\r\nimport Slide from './Slide'\r\nconst Slides = ({ciudades}) => {\r\n    const clase={\r\n        carousel: 'slideCity',\r\n        estampa: ''\r\n    }\r\n    return (\r\n        <div className=\"slideCarrousel\">\r\n            {\r\n                ciudades.map(ciudad =>{\r\n                    return(\r\n                        <Slide ciudad={ciudad} clase={clase} key={'s'+ciudad.title}/>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Slides","import Carousel from 'react-elastic-carousel';\r\nimport Slides from './Slides';\r\n\r\nconst Carrousel = ({gruposDeCiudades}) => {\r\n\r\n    return (\r\n      <div className='containerCarrousel bg-dark' >\r\n          <h2>Popular MYtineraries</h2>\r\n          <Carousel enableAutoPlay={true} autoPlaySpeed={4000}>\r\n              {\r\n                  gruposDeCiudades.map((ciudades, id) => {\r\n                      return (\r\n                          <Slides ciudades={ciudades} key={id} />\r\n                      )\r\n                })\r\n              }\r\n          </Carousel>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n\r\nexport default Carrousel","import React, {Component} from 'react'\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport Hero from '../components/Hero'\r\nimport CallToAction from '../components/CallToAction'\r\nimport Carrousel from '../components/Carrousel'\r\n\r\nexport default class Home extends Component{\r\n    componentDidMount(){\r\n        window.scrollTo(0,0)\r\n    }\r\n    state = {\r\n        gruposDeCiudades:[\r\n         [\r\n          {title: 'London', src: '/assets/london.jpg'},\r\n          {title: 'New York', src: '/assets/newyork.jpg'},\r\n          {title: 'Paris', src: '/assets/paris.jpg'},\r\n          {title: 'Dubai', src: '/assets/dubai.jpg'}\r\n        ],\r\n          [{title: 'Tokyo', src: '/assets/tokyo.jpg'},\r\n          {title: 'Moscow', src: '/assets/moscow.jpg'},\r\n          {title: 'Tauranga', src: '/assets/tauranga.jpg'},\r\n          {title: 'Queenstown', src: '/assets/queenstown.jpg'}\r\n        ],\r\n          [{title: 'Los Angeles', src: '/assets/losAngeles.jpg'},\r\n          {title: 'Madrid', src: '/assets/madrid.jpg'},\r\n          {title: 'Rome', src: '/assets/rome.jpg'},\r\n          {title: 'Barcelona', src: '/assets/barcelona.jpg'}          \r\n        ]]\r\n    }\r\n    render(){\r\n        return(\r\n            <>\r\n                <Header />\r\n                <Hero gruposDeCiudades={this.state.gruposDeCiudades[1]}/>\r\n                <CallToAction />\r\n                <Carrousel gruposDeCiudades={this.state.gruposDeCiudades}/>\r\n                <Footer />\r\n            </>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport { connect } from \"react-redux\"\r\n\r\nconst City = (props) => {\r\n    return (\r\n        <div className='allCities'>\r\n            {\r\n                props.cities.map(ciudad =>{\r\n                    return(\r\n                        \r\n                        <NavLink to={`/itineraries/${ciudad._id}`} className='city' key={'city'+ciudad.city} style={{backgroundImage:`url(${ciudad.path})`}}>\r\n                            <h3>{ciudad.city}</h3>\r\n                        </NavLink>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       cities:  state.city.citiesFilter\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(City)","import axios from 'axios'\r\n\r\nconst citiesActions = {\r\n    getCities: () => {\r\n        return (dispatch, getState) =>{\r\n            axios.get('https://kbaezmytinerary.herokuapp.com/api/cities')\r\n            .then(response => dispatch({type: 'GET_CITIES', payload: response.data.respuesta}))\r\n            .catch( error => console.log(error))\r\n        }\r\n    },\r\n    filterValue: (value) => {\r\n        return (dispatch, getState) => {\r\n            dispatch({type: 'FILTER_VALUE', payload: value})\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default citiesActions","import React from 'react'\r\nimport City from './City'\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff'\r\nimport { connect } from \"react-redux\"\r\nimport citiesActions from '../redux/actions/citiesActions'\r\n\r\nconst Buscador = (props) => {\r\n    return (\r\n        <div className='inputCities'>\r\n            <FlightTakeoffIcon className='logoCities'/>\r\n            <input placeholder='Search cities' onChange={(e) => {props.filtro((e.target.value))}}></input>\r\n            {props.citiesFilter.length ? <City />\r\n            : <div className='city notFound'><h2>We don't have any city that matches your search!</h2>\r\n            <h2>Try another one!</h2></div> }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       citiesFilter:  state.city.citiesFilter\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    filtro: citiesActions.filterValue\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Buscador)\r\n","import React, {Component} from 'react'\r\nimport Header from '../components/Header'\r\nimport Buscador from '../components/Buscador'\r\nimport Footer from '../components/Footer'\r\nimport ReactLoading from 'react-loading'\r\nimport { connect } from \"react-redux\"\r\nimport citiesActions from '../redux/actions/citiesActions'\r\nclass Cities extends Component{\r\n\r\n    componentDidMount(){\r\n        window.scrollTo(0,0)         \r\n        this.props.getCities()\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div>\r\n                <Header />\r\n                {this.props.loading ? <ReactLoading className='preloader' type={'cylon'} color={'white'} height={667} width={'100%'} />\r\n                : <Buscador />} \r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       loading:  state.city.loading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getCities: citiesActions.getCities\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cities)","import axios from 'axios'\r\nimport {toast } from 'react-toastify'\r\n\r\nconst itinerariesActions = {\r\n    getItinerariesByCity: (id) => {\r\n        return (dispatch, getState) =>{\r\n            axios.get('https://kbaezmytinerary.herokuapp.com/api/itinerariesByCity/'+id)\r\n            .then(response => {\r\n                dispatch({type: 'GET_ITINERARIES_BY_CITY',\r\n            payload: response.data.respuesta})})\r\n            .catch( error => console.log(error))\r\n        }\r\n    },\r\n    putItinerary: (id, itinerary) => {\r\n        return async (dispatch, getState) => {\r\n            const response = await axios.put('https://kbaezmytinerary.herokuapp.com/api/itineraries/'+id, itinerary)\r\n            if(!response.success){\r\n                return response.data.respuesta\r\n            }\r\n            dispatch({type: 'GET_ITINERARIES_BY_CITY', payload: response.data.respuesta})\r\n            .catch(error => console.log(error))\r\n        }\r\n    },\r\n    putComments: (user,id, comment) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const response = await axios.put('https://kbaezmytinerary.herokuapp.com/api/itineraries/comments/'+id,{comment}, {\r\n                    headers: {\r\n                        'Authorization' : 'Bearer '+user.token\r\n                    }\r\n                })\r\n                dispatch({type: 'COMMENTS', payload: response.data.respuesta})\r\n                return response.data.respuesta\r\n            }catch(error){\r\n                console.log(error)\r\n                toast.error('Ops... An error occurred, contact the administrator')\r\n            }\r\n        }\r\n    },\r\n    likes: (user, itinerary) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const response = await axios.put('https://kbaezmytinerary.herokuapp.com/api/itineraries/like/'+itinerary._id,{itinerary},{\r\n                    headers: {\r\n                        'Authorization': 'Bearer '+user.token\r\n                    }\r\n                })\r\n                dispatch({type: 'LIKES', payload: response.data.respuesta})\r\n            }catch(error){\r\n                console.log(error)\r\n                toast.error('Ops... An error occurred, contact the administrator')\r\n\r\n          }\r\n      }\r\n    },\r\n    deleteComment: (user, comment,itinerary) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const response = await axios.put('https://kbaezmytinerary.herokuapp.com/api/comments/',{comment,itinerary}, {\r\n                    headers: {\r\n                        'Authorization' : 'Bearer '+user.token\r\n                    }\r\n                })\r\n                dispatch({type: 'COMMENTS', payload: response.data.respuesta})\r\n                return response.data.respuesta\r\n            }catch(error){\r\n                console.log(error)\r\n                toast.error('Ops... An error occurred, contact the administrator')\r\n\r\n            }\r\n        }\r\n    },\r\n    updateComment: (user, comment,itinerary) => {\r\n        return async (dispatch, getState) => {\r\n            try{\r\n                const response = await axios.put('https://kbaezmytinerary.herokuapp.com/api/commentsUpdate/',{comment,itinerary}, {\r\n                    headers: {\r\n                        'Authorization' : 'Bearer '+user.token\r\n                    }\r\n                })\r\n                dispatch({type: 'COMMENTS', payload: response.data.respuesta})\r\n                return response.data.respuesta\r\n            }catch(error){\r\n                console.log(error)\r\n                toast.error('Ops... An error occurred, contact the administrator')\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default itinerariesActions","import axios from 'axios'\r\n\r\nconst activitiesActions = {\r\n    getActivitiesByItinerary: (id) => {\r\n        return async (dispatch, getState) =>{\r\n            const response = await axios.get('https://kbaezmytinerary.herokuapp.com/api/activitiesByItinerary/'+id)\r\n            return response\r\n        }\r\n    }\r\n}\r\n\r\nexport default activitiesActions","import React, { useState } from 'react'\r\nimport { connect } from \"react-redux\"\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Swal from 'sweetalert2'\r\n\r\nconst Comment = (props) => {\r\n    const [close, setClose] = useState(false)\r\n\r\n    const [view, setView] = useState(false)\r\n    const [updatedComment, setUpdatedComment] = useState('')\r\n\r\n    const edit = (comment) =>{\r\n        setView(!view)\r\n        setClose(!close)\r\n        setUpdatedComment(comment.comment)\r\n    }\r\n    const enter = (e) =>{\r\n        if(e.key === 'Enter'){\r\n            send()  \r\n        }\r\n    }\r\n    const send = () => {\r\n        if(updatedComment.trim() !== \"\"){\r\n            props.comment.comment = updatedComment\r\n            props.updateComment(props.comment)\r\n            setView(!view)\r\n            setClose(!close)\r\n        }\r\n    }\r\n    const erase = (comment) => {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                props.deleteComment(comment)\r\n                Swal.fire(\r\n                    'Deleted!',\r\n                    'Your file has been deleted.',\r\n                    'success'\r\n                )\r\n            }\r\n          })\r\n    }\r\n    return(\r\n        <div className='commentContent'>\r\n            <div className='commentOne'>\r\n            <div>\r\n                <div className='picUser' style={{backgroundImage:`url('${props.comment.userId.userImage}')`}}></div>\r\n                <h5>{props.comment.userId.firstName + \" \" + props.comment.userId.lastName }</h5>\r\n            </div>\r\n\r\n            {\r\n                (props.user && props.comment.userId.email === props.user.email) ? \r\n                <>\r\n                {close ? <CloseIcon className='icon' onClick={()=>{setClose(!close);setView(!view)}}/> : \r\n                <div> \r\n                <EditIcon className='icon' onClick={()=>edit(props.comment)}/>\r\n                <DeleteForeverIcon className='icon'onClick={()=>erase(props.comment)}/>\r\n                </div>}\r\n                </> : null\r\n            }\r\n\r\n            </div>\r\n            {!view && \r\n            <h5 className='comentario'>{props.comment.comment}</h5>}\r\n            {view && (\r\n                <div className='commentsEdit'>\r\n                    <input onKeyDown={enter} type=\"text\" className=\"inputComment\" placeholder=\"Write your comment here\"  onChange={(e)=>setUpdatedComment(e.target.value)} value={updatedComment}/>\r\n                    <button className=\"buttonComment\" onClick={send}>Send</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.auth.userLogged,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Comment)","import React, { useEffect, useState } from 'react'\r\nimport FavoriteIcon from '@material-ui/icons/Favorite'\r\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm'\r\nimport WatchLaterIcon from '@material-ui/icons/WatchLater'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport axios from 'axios'\r\nimport activitiesActions from '../redux/actions/activitiesActions'\r\nimport itinerariesActions from '../redux/actions/itinerariesActions'\r\nimport Comment from './Comment'\r\nimport { connect } from \"react-redux\"\r\nimport { ToastContainer, toast } from 'react-toastify'\r\n\r\nconst Itinerary = (props) =>{\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const [show, setShow] = useState(false)\r\n    const [hashtag, setHashtag] = useState('')\r\n    const [itinerariesCoincidencies, setItinerariesCoincidencies] = useState([])\r\n    const [itineraries, setItineraries] = useState([])\r\n    const [activities, setActivities] = useState([])\r\n    const [likes, setLikes] = useState(false)\r\n    const [newComment, setNewComment] = useState('')\r\n    const [allComments, setAllComments] = useState(props.itinerary.comments)\r\n    const [viewItinerary, setViewItinerary] = useState(true)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(()=>{\r\n        axios.get('https://kbaezmytinerary.herokuapp.com/api/itineraries')\r\n        .then(response => {\r\n            setItineraries(response.data.respuesta)})\r\n            .catch( error => console.log(error))\r\n        },[])\r\n    useEffect(()=>{\r\n        if(props.user){\r\n            if(props.itinerary.usersLiked.indexOf(props.user.email) !== -1){\r\n                setLikes(true)\r\n            }else{\r\n                setLikes(false)            \r\n            }\r\n        }\r\n    },[props])\r\n    let coincidencies = []\r\n    const getItinerariesHashtag = (e) =>{\r\n        itineraries.map(itinerary =>{\r\n            itinerary.hashtag.map(hashtag => {\r\n                if(hashtag === e.target.value){\r\n                    coincidencies = [...coincidencies, itinerary]\r\n                }\r\n                return null\r\n            })\r\n            return null\r\n        })\r\n        setItinerariesCoincidencies(coincidencies)\r\n        setShow(true)\r\n        setHashtag(e.target.value)\r\n    }\r\n    const view = async (id) => {\r\n        setIsOpen(!isOpen)\r\n        if(!isOpen){\r\n            const activity = await props.getActivitiesByItinerary(id)\r\n            setActivities(activity.data.respuesta)\r\n        }\r\n    }\r\n    const like = async () => {\r\n        if(props.user){\r\n            setLoading(false)\r\n            await props.likes(props.user, props.itinerary)\r\n            setLikes(!likes)\r\n            setLoading(true)\r\n        }else{\r\n            toast.error(\"You have to log in\", {\r\n                position: toast.POSITION.TOP_CENTER\r\n              });\r\n        }\r\n    }\r\n    const enter = (e,id) =>{\r\n        if(e.key === 'Enter'){\r\n            sendValues(id)  \r\n        }\r\n    }\r\n    const sendValues = async (itineraryId) => {\r\n        if(props.user){\r\n            setLoading(false)\r\n            if(newComment.trim() !== \"\"){\r\n                const itinerary = await props.putComments(props.user,itineraryId, newComment)\r\n                setAllComments(itinerary.comments)\r\n                setNewComment('')\r\n                setLoading(true)\r\n            }\r\n        }else{\r\n            toast.error(\"You have to log in\", {\r\n                position: toast.POSITION.TOP_CENTER\r\n              });\r\n        }\r\n    }\r\n    const deleteComment = async (comment) =>{\r\n        const response = await props.deleteComment(props.user, comment, props.itinerary)\r\n        setAllComments(response.comments)\r\n    }\r\n\r\n    const updateComment = async (comment) =>{\r\n        const response = await props.updateComment(props.user, comment, props.itinerary)\r\n        setAllComments(response.comments)        \r\n    }\r\n    \r\n    return(\r\n            \r\n        <div className='itineraryContent'>\r\n            <h3>{props.itinerary.title}</h3>\r\n            <div className='userImage' style={{backgroundImage:`url('${props.itinerary.authorImage}')`}}></div>\r\n            <h5>{props.itinerary.authorName}</h5>\r\n            <div className='valoration'>\r\n                <div><FavoriteIcon className='curser' style={{color:`${likes ? 'red' : 'white' }`}} onClick={loading ? like : null}/> {props.itinerary.usersLiked.length} </div>\r\n                <div> <span>Price: </span>{[...Array(props.itinerary.price)].map((p,i) => <LocalAtmIcon className=\"diner\" key={i}/>)}</div>\r\n                <div><WatchLaterIcon className=\"watch\"/> {props.itinerary.duration} <span>hours</span></div>\r\n            </div>\r\n            <div className='hashtag'>\r\n                {\r\n                    props.itinerary.hashtag.map(hashtag => <button value={hashtag} onClick={(e) =>getItinerariesHashtag(e)} key={hashtag}>#{hashtag}</button>)\r\n                }\r\n                <Modal\r\n                show={show}\r\n                backdrop=\"static\"\r\n                onHide={() => setShow(false)}\r\n                dialogClassName=\"modal-90w\"\r\n                aria-labelledby=\"example-custom-modal-styling-title\"\r\n                >\r\n                    <Modal.Header className='modalContent' closeButton>\r\n                        <Modal.Title id=\"example-custom-modal-styling-title\">\r\n                            #{hashtag}\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body className='modalContent'>\r\n                    {\r\n                        itinerariesCoincidencies.map(itinerary =>{\r\n                            return (\r\n                                <div key={itinerary.title+'hashtag'} className='modalHashtag'>\r\n                                    <h3>{itinerary.title}</h3>\r\n                                    <div className='userImage' style={{backgroundImage:`url('${itinerary.authorImage}')`}}></div>\r\n                                    <h5>{itinerary.authorName}</h5>\r\n                                    <div className='valoration'>\r\n                                        <div><FavoriteIcon/> {itinerary.usersLiked.length} </div>\r\n                                        <div> <span>Price: </span>{[...Array(itinerary.price)].map((p,i) => <LocalAtmIcon className=\"diner\" key={i}/>)}</div>\r\n                                        <div><WatchLaterIcon className=\"watch\"/> {itinerary.duration} <span>hours</span></div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                        \r\n                    }\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </div>\r\n            \r\n            {isOpen && (<div className='under'>\r\n                <div className='activitiesContent'>\r\n                    <h3>Activities</h3>\r\n                    {\r\n                        activities.map(activity => {\r\n                            return(\r\n                            <div key={activity.title} className='activity' style={{backgroundImage:`url('${activity.image}')`}}>\r\n                                <div>\r\n                                    <h6>{activity.title}</h6>\r\n\r\n                                </div>\r\n                            </div>)\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className='comments'>\r\n                    <h3>Comments</h3>\r\n                    <div className='divComments'>\r\n                        {allComments.length ? \r\n                            allComments.map(comment => {\r\n                                return(\r\n                                    <Comment key={comment._id} setViewItinerary={setViewItinerary} comment={comment} itinerary={props.itinerary} deleteComment={deleteComment} updateComment={updateComment}/>\r\n                                )\r\n                            })\r\n                            : <div className='sinComentarios'>\r\n                                <h2>Be the first to comment</h2>\r\n                            </div> \r\n                        }\r\n                    </div>\r\n                {viewItinerary && <div className='sendContent'>     \r\n                    <input onKeyDown={(e)=>enter(e, props.itinerary._id)} type=\"text\" value={newComment} className=\"inputComment\" placeholder={props.user ? \"Write your comment here\": \"You have to log in\"} onChange={(e) => setNewComment(e.target.value)} disabled={!props.user && true}/>\r\n                    <button className=\"buttonComment\" onClick={loading ? () => sendValues(props.itinerary._id) : null}>Send</button>\r\n                    </div>}\r\n                </div>\r\n            </div>)}\r\n            <button className=\"butonIsOpen\" onClick={() => view(props.itinerary._id)}>{isOpen ? 'View Less' : 'View More'}</button>\r\n            <ToastContainer />\r\n        </div>     \r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.auth.userLogged,\r\n        itinerariesByCity: state.itinerary.itinerariesByCity\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    getActivitiesByItinerary : activitiesActions.getActivitiesByItinerary,\r\n    putItinerary: itinerariesActions.putItinerary,\r\n    putComments: itinerariesActions.putComments,\r\n    likes: itinerariesActions.likes,\r\n    deleteComment: itinerariesActions.deleteComment,\r\n    updateComment: itinerariesActions.updateComment    \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Itinerary)","import React, { useEffect, useState } from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport FlightLandIcon from '@material-ui/icons/FlightLand'\r\nimport { connect } from \"react-redux\"\r\nimport itinerariesActions from '../redux/actions/itinerariesActions'\r\nimport Itinerary from './Itinerary'\r\n\r\nconst Itineraries = (props) => {\r\n    \r\n    const [chosenCity, setChosenCity] = useState([])\r\n    useEffect(() =>{\r\n        props.getItinerariesByCity(props.match.params.id)\r\n        const city = props.cities.find(city => city._id === props.match.params.id)\r\n        setChosenCity(city)\r\n    },[props])\r\n    useEffect(() =>{\r\n        window.scrollTo(0,0)\r\n    },[])\r\n\r\n    if(!chosenCity){\r\n        props.history.push('/cities')\r\n        return null\r\n    }\r\n    return (\r\n        <div className='itinarie'>\r\n            <Header />\r\n            <div className='chosenCity' style={{backgroundImage:`url('${chosenCity.path}')`}}>\r\n                <h3>{chosenCity.city}</h3>\r\n            </div>\r\n            {props.itinerariesByCity.length? \r\n                props.itinerariesByCity.map(itinerary => {\r\n                    return(\r\n                        <Itinerary key={itinerary.title} itinerary={itinerary} /> )})\r\n                \r\n                : <div className='under'>\r\n                    <h3>We don't have any itineraries yet, but you can make the first one!</h3>\r\n                    <h3>Or...go back to see more cities!</h3>\r\n                </div>\r\n            }\r\n\r\n            <NavLink to='/cities' className='buttonItenerari'>\r\n                    <h3><FlightLandIcon className='logoButtonItenerari' />Cities</h3>\r\n            </NavLink>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n       cities:  state.city.cities,\r\n       itinerariesByCity: state.itinerary.itinerariesByCity\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getItinerariesByCity: itinerariesActions.getItinerariesByCity\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Itineraries)","import Header from \"./Header\"\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"serverError\">\r\n            <Header />\r\n            <h1>Sorry for the inconvenience, our servers were down</h1>\r\n            <div className='servidor' style={{backgroundImage:'url(\"/assets/server.jpg\")'}}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import { useEffect, useState } from \"react\"\r\nimport axios from 'axios'\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff'\r\nimport VisibilityOffOutlinedIcon from '@material-ui/icons/VisibilityOffOutlined'\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined'\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport {connect} from \"react-redux\"\r\nimport authActions from '../redux/actions/authActions'\r\nimport GoogleLogin from 'react-google-login'\r\nimport { ToastContainer, toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport GoogleButton from 'react-google-button'\r\n\r\nconst SignUp = (props) => { \r\n    const [user, setUser] = useState({firstName: '', lastName: '', email: '', password: '', userImage: '', country: ''})\r\n    const [countries, setCountries] = useState([])\r\n    const [eye, setEye] = useState(false)\r\n    const [mistakes, setMistakes] = useState({firstName: '', lastName: '', email: '', password: '', userImage: '',country: ''})\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0)\r\n        axios.get('https://restcountries.eu/rest/v2/all')\r\n        .then( response => {\r\n            setCountries(response.data)})\r\n        .catch(error => console.log(error))\r\n    },[])\r\n    const readInputUser = (e) => {\r\n        setUser({\r\n          ...user,\r\n          [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const sendValueUser = async (e = null, googleUser = null) => {\r\n        setMistakes({firstName: '', lastName: '', email: '', password: '', userImage: '',country: ''})\r\n        e && e.preventDefault()\r\n        let userGen = e ? user : googleUser\r\n        \r\n        if(Object.values(userGen).some(value => value === \"\")){\r\n            return toast.error('Fill in the fields')\r\n        }\r\n        const response = await props.createUser(userGen)\r\n        if(response){\r\n            if(response.controllers){\r\n                if(response.controllers === \"There was an error in the user engraving. Retry\"){\r\n                    return toast.error(response.controllers)\r\n                }\r\n                return setMistakes({'email': response.controllers})\r\n            }\r\n            response.map(error => setMistakes((prevState) =>{ \r\n                return {...prevState, [error.context.label]: error.message}\r\n             }))\r\n        }else{\r\n            toast.success(`Welcome ${userGen.firstName}`)\r\n            setTimeout(function(){ props.history.push('/') }, 5000);\r\n            \r\n        }\r\n    }\r\n    const responseGoogle = (response) => {\r\n        const {givenName, familyName, email, googleId, imageUrl} = response.profileObj\r\n        sendValueUser(null, {firstName: givenName, lastName: familyName , email, password: \"a\"+googleId, userImage: imageUrl, country: 'google', google: true})\r\n    }\r\n    return(\r\n        <>\r\n            <Header /> \r\n            <div className='divFormContent' style={{backgroundImage:\"url('./assets/beach.jpg')\"}}>\r\n                <div className=\"form\">\r\n                    <FlightTakeoffIcon className='logoForm'/>\r\n                    <h1>Sign up!</h1>\r\n                    <form className='form'>\r\n                        <input type=\"text\" className=\"input\" placeholder=\"Please, enter your first name\"\r\n                        onChange={readInputUser} value={user.firstName} name=\"firstName\" />\r\n                        {mistakes.firstName ? <h6>{mistakes.firstName}</h6> : null} \r\n                        <input type=\"text\" className=\"input\" placeholder=\"Please, enter your last name\"\r\n                        onChange={readInputUser} value={user.lastName} name=\"lastName\" />\r\n                        {mistakes.lastName ? <h6>{mistakes.lastName}</h6> : null} \r\n                        <input type=\"text\" className=\"input\" placeholder=\"Please, enter your email adress\"\r\n                        onChange={readInputUser} value={user.email} name=\"email\" />\r\n                        {mistakes.email ? <h6>{mistakes.email}</h6> : null} \r\n                        <div className=\"password\">\r\n                            <input type= {eye ? \"text\" : \"password\"} className=\"input\" placeholder=\"Please, enter your password\"\r\n                            onChange={readInputUser} value={user.password} name=\"password\" />\r\n                            {eye ? <VisibilityOffOutlinedIcon className='eyeSignUp' onClick={()=>setEye(!eye)} /> : <VisibilityOutlinedIcon className='eyeSignUp' onClick={()=>setEye(!eye)}/>}\r\n                        </div>\r\n                            {mistakes.password ? <h6>{mistakes.password}</h6> : null} \r\n                        <input type=\"text\" className=\"input image\" placeholder=\"Please, enter the URL of your picture\"\r\n                        onChange={readInputUser} value={user.userImage} name=\"userImage\" />\r\n                        {mistakes.userImage ? <h6>{mistakes.userImage}</h6> : null} \r\n\r\n                        <select onChange={readInputUser} name=\"country\" className=\"input\">\r\n                            <option value='random'>Choose your country</option>\r\n                            {countries.map(country => {\r\n                                return <option key={country.name} value={country.name}>{country.name}</option>\r\n                            })}\r\n                        </select>\r\n                        {mistakes.country ? <h6>{mistakes.country}</h6> : null} \r\n                        <button className=\"boton\" onClick={sendValueUser}>Sign up!</button>\r\n                        <div className=\"input\">\r\n                            <h6>Already have an account?  <NavLink to='/signin' className=\"navLink sign\">Sign in here!</NavLink></h6>\r\n                            <h6>Or you can sign up with Google</h6>\r\n                        </div>\r\n                        <GoogleLogin\r\n                            clientId=\"974935643152-dc0ocnkdohrlv5gug0tjbf6r9t32smcb.apps.googleusercontent.com\"\r\n                            render={renderProps => (\r\n                                <GoogleButton onClick={renderProps.onClick} disabled={renderProps.disabled}>Sign up with Google</GoogleButton>\r\n                            )}\r\n                            buttonText=\"Sign up with google\"\r\n                            onSuccess={responseGoogle}\r\n                            onFailure={responseGoogle}\r\n                            cookiePolicy={'single_host_origin'}\r\n                        />\r\n                    </form>\r\n                </div>\r\n                <ToastContainer />\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    createUser: authActions.createUser\r\n}\r\n\r\nexport default connect(null ,mapDispatchToProps)(SignUp)","import FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff'\r\nimport VisibilityOffOutlinedIcon from '@material-ui/icons/VisibilityOffOutlined'\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined'\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport {useEffect, useState } from \"react\"\r\nimport {connect} from \"react-redux\"\r\nimport authActions from '../redux/actions/authActions'\r\nimport GoogleLogin from 'react-google-login'\r\nimport { ToastContainer, toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport GoogleButton from 'react-google-button'\r\n\r\n\r\nconst SignIn = (props) => {\r\n    const [user, setUser] = useState({email: '', password: ''})\r\n    const [eye, setEye] = useState(false)\r\n    useEffect (() =>{\r\n        window.scrollTo(0,0)\r\n    }, [])\r\n    const readInputUser = (e) => {\r\n        setUser({\r\n          ...user,\r\n          [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const sendValueUser = async (e = null, googleUser = null) => {\r\n        e && e.preventDefault()\r\n        let userGen = e ? user : googleUser\r\n        if(Object.values(userGen).some(value => value === \"\")){\r\n            return toast.error('Fill in the fields')\r\n        }\r\n        const response = await props.logInUser(userGen)\r\n        if(response){\r\n            toast.error(response)\r\n        }else{\r\n            toast.success('Welcome')\r\n            setTimeout(function(){ props.history.push('/') }, 5000);       \r\n        }\r\n    }\r\n    const responseGoogle = (response) => {\r\n        if(response.profileObj.email){\r\n            sendValueUser(null, {email: response.profileObj.email, password: 'a'+response.profileObj.googleId})\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Header />\r\n            <div className='divFormContent' style={{backgroundImage:\"url('./assets/beach.jpg')\"}}>\r\n                <div className=\"form signInContent\">\r\n                    <FlightTakeoffIcon className='logoForm'/>\r\n                    <h1>Sign in!</h1>\r\n                    <form>\r\n                        <input type=\"text\" className=\"input\" placeholder=\"Please, enter your email adress\"\r\n                        onChange={readInputUser} value={user.email} name=\"email\" />\r\n                    \r\n                        <div className=\"password\">\r\n                            <input type= {eye ? \"text\" : \"password\"} className=\"input\" placeholder=\"Please, enter your password\"\r\n                            onChange={readInputUser} value={user.password} name=\"password\" />\r\n                            {eye ? <VisibilityOffOutlinedIcon className='eyeSignUp' onClick={()=>setEye(!eye)} /> : <VisibilityOutlinedIcon className='eyeSignUp' onClick={()=>setEye(!eye)}/>}\r\n                        </div>\r\n                        <button className=\"boton\" onClick={sendValueUser}>Sign in!</button>\r\n                        <GoogleLogin\r\n                            clientId=\"974935643152-dc0ocnkdohrlv5gug0tjbf6r9t32smcb.apps.googleusercontent.com\"\r\n                            render={renderProps => (\r\n                                <GoogleButton className='btn-google' onClick={renderProps.onClick} disabled={renderProps.disabled}>Sign in with Google</GoogleButton>\r\n                            )}\r\n                            buttonText=\"Sign in with google\"\r\n                            onSuccess={responseGoogle}\r\n                            onFailure={responseGoogle}\r\n                            cookiePolicy={'single_host_origin'}\r\n                        />\r\n                    </form>\r\n                    <ToastContainer />\r\n                    <p className='account'>Don't have an account?  <NavLink to='/signup' className=\"navLink sign\">Sign up here!</NavLink></p>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    logInUser: authActions.logInUser \r\n}\r\n\r\nexport default connect(null ,mapDispatchToProps)(SignIn)\r\n","import React from 'react'\r\nimport Home from './pages/Home'\r\nimport Cities from './pages/Cities'\r\nimport Itineraries from './components/Itineraries'\r\nimport Error from './components/Error'\r\n\r\nimport './style.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\r\nimport SignUp from './components/SignUp'\r\nimport SignIn from './components/SignIn'\r\n\r\nimport {connect} from \"react-redux\"\r\nimport authActions from './redux/actions/authActions'\r\n\r\nclass App extends React.Component {\r\n  render(){\r\n    if (!this.props.userLogged && localStorage.getItem('token')) {\r\n      const userData = JSON.parse(localStorage.getItem('userLogged'))\r\n      const userForced = {\r\n        token: localStorage.getItem('token'),\r\n        ...userData\r\n      }\r\n\r\n      this.props.logInForced(userForced)\r\n    }\r\n\r\n    return(\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/cities\" component={Cities} /> \r\n          <Route path=\"/itineraries/:id\" component={Itineraries} />  \r\n          <Route path=\"/signup\" component={SignUp}/>\r\n          <Route path=\"/signin\" component={SignIn}/>\r\n          <Route path='/error' component={Error} />\r\n          <Redirect to='/'/>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n  return{\r\n    userLogged: state.userLogged\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  logInForced : authActions.logInForced\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App)","const initialState = {\r\n    cities: [],\r\n    citiesFilter: [],\r\n    loading: true\r\n}\r\n\r\nconst cityReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_CITIES':\r\n            return {\r\n                ...state,\r\n                cities: action.payload,\r\n                citiesFilter: action.payload,\r\n                loading: false\r\n            }\r\n        case 'FILTER_VALUE':\r\n            return {\r\n                ...state,\r\n                citiesFilter: state.cities.filter(ciudad => action.payload.trim().toLowerCase() === ciudad.city.toLowerCase().slice(0,action.payload.trim().toLowerCase().length))\r\n            }\r\n        \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default cityReducer","const initialState = {\r\n    itinerariesByCity: [],\r\n    loading: true\r\n}\r\n\r\nconst itinerariesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_ITINERARIES_BY_CITY':\r\n            return {\r\n                ...state,\r\n                itinerariesByCity: action.payload,\r\n                loading: false\r\n            }\r\n        case \"COMMENTS\":\r\n            \r\n            return{\r\n                ...state,\r\n                itinerariesByCity: state.itinerariesByCity.map( itinerary => itinerary._id === action.payload._id ? action.payload : itinerary)                \r\n            }\r\n        case \"LIKES\":\r\n            \r\n            return{\r\n                ...state,\r\n                itinerariesByCity: state.itinerariesByCity.map( itinerary => itinerary._id === action.payload._id ? action.payload : itinerary)\r\n\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default itinerariesReducer","const initialState =  {\r\n    userLogged: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case 'LOG_USER':   \r\n            if(action.payload){\r\n                localStorage.setItem('userLogged', JSON.stringify({firstName: action.payload.firstName, lastName: action.payload.lastName, userImage: action.payload.userImage, email: action.payload.email}))\r\n                localStorage.setItem('token', action.payload.token)\r\n            }\r\n            \r\n            return {\r\n                ...state,\r\n                userLogged: action.payload\r\n            }\r\n        case 'LOGOUT_USER':\r\n            localStorage.clear()\r\n            return {\r\n                ...state,\r\n                userLogged: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer","import { combineReducers } from \"redux\";\r\nimport cityReducer from './cityReducer'\r\nimport itinerariesReducer from './itinerariesReducer'\r\nimport authReducer from './authReducer'\r\n\r\n\r\nconst mainReducer = combineReducers({\r\n    city: cityReducer,\r\n    itinerary: itinerariesReducer,\r\n    auth: authReducer\r\n})\r\n\r\nexport default mainReducer","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {applyMiddleware, createStore} from 'redux'\r\nimport {Provider} from 'react-redux'\r\nimport mainReducer from './redux/reducers/mainReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst miStore = createStore(mainReducer, applyMiddleware(thunk))\r\n\r\nReactDOM.render(\r\n  <Provider store={miStore}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}